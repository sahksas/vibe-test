# 3. 非機能要件

## 3.1 パフォーマンス要件

### 3.1.1 応答時間
- 画面表示：3秒以内（通常時）
- API応答：1秒以内（95パーセンタイル）
- 検索処理：2秒以内
- ファイルアップロード：10MBあたり5秒以内

### 3.1.2 処理能力
- 同時接続数：100ユーザー
- 1時間あたりのリクエスト処理数：10,000件
- データベース同時接続数：50

### 3.1.3 リソース使用量
- CPU使用率：平均50%以下
- メモリ使用率：80%以下
- ストレージ：1ユーザーあたり最大1GB

## 3.2 セキュリティ要件

### 3.2.1 認証・認可
- パスワードのハッシュ化（bcrypt）
- セッショントークンの安全な管理
- CSRF対策の実装
- XSS対策の実装

### 3.2.2 通信
- HTTPS通信の強制
- TLS 1.2以上の使用
- セキュアクッキーの使用

### 3.2.3 データ保護
- 個人情報の暗号化保存
- SQLインジェクション対策
- アップロードファイルのウイルススキャン
- 定期的なセキュリティアップデート

### 3.2.4 アクセス制御
- IPアドレスによるアクセス制限（オプション）
- ログイン試行回数制限（5回失敗で30分ロック）
- パスワードポリシーの強制

## 3.3 可用性要件

### 3.3.1 稼働率
- 月間稼働率：99.5%以上
- 計画停止時間：月1回、最大2時間

### 3.3.2 障害対策
- データベースの日次バックアップ
- アプリケーションログの保存（30日間）
- エラー監視とアラート通知

### 3.3.3 災害対策
- バックアップデータの遠隔地保管
- 復旧手順書の整備
- RTO（目標復旧時間）：4時間
- RPO（目標復旧時点）：24時間

## 3.4 運用要件

### 3.4.1 監視
- 死活監視（5分間隔）
- リソース監視（CPU、メモリ、ディスク）
- アプリケーションログ監視
- エラー率監視

### 3.4.2 バックアップ
- データベース：日次フルバックアップ
- アップロードファイル：日次差分バックアップ
- バックアップ保存期間：7世代

### 3.4.3 メンテナンス
- 定期メンテナンス：月1回
- セキュリティパッチ適用：随時
- メンテナンス告知：1週間前

## 3.5 保守性要件

### 3.5.1 コード品質
- コーディング規約の遵守
- 単体テストカバレッジ：80%以上
- 統合テストの実装
- コードレビューの実施

### 3.5.2 ドキュメント
- システム設計書の作成
- API仕様書の作成
- 運用手順書の作成
- トラブルシューティングガイド

### 3.5.3 拡張性
- マイクロサービスアーキテクチャ
- 水平スケーリング対応
- プラグイン機構の実装
- APIファーストの設計

## 3.6 ユーザビリティ要件

### 3.6.1 画面設計
- レスポンシブデザイン対応
- モバイルファースト設計
- アクセシビリティ対応（WCAG 2.1 Level AA）
- 多言語対応準備（国際化対応）

### 3.6.2 操作性
- 直感的なUI/UX
- キーボードショートカット対応
- ドラッグ&ドロップ対応
- 自動保存機能

### 3.6.3 ヘルプ・サポート
- オンラインヘルプの提供
- ツールチップの表示
- エラーメッセージの分かりやすさ
- FAQページの用意

## 3.7 互換性要件

### 3.7.1 ブラウザ対応
- Chrome（最新版および1つ前のバージョン）
- Firefox（最新版および1つ前のバージョン）
- Safari（最新版）
- Edge（最新版）

### 3.7.2 画面解像度
- 最小対応解像度：1024×768
- 推奨解像度：1920×1080
- モバイル対応：320px以上

### 3.7.3 言語・地域
- 文字コード：UTF-8
- タイムゾーン対応
- 日付フォーマットの地域対応